<html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Pux</title><link rel="icon" type="image/x-icon" href="../../favicon.ico"><link rel="stylesheet" href="../../css"><link rel="stylesheet" type="text/css" href="../../atom-one-dark.css"><style></style></head><body><div id="app"><div><style>body { margin: 0.0px 0.0px 0.0px 0.0px ; padding: 0.0px 0.0px 0.0px 0.0px ; background-color: hsl(0.0, 0.0%, 99.22%); font-size: 15.0px; font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif; line-height: 165.0%; color: hsl(220.0, 6.47%, 27.25%) }
.strong { font-weight: bolder }
blockquote { background-color: hsl(0.0, 0.0%, 98.04%); overflow: auto; margin: 0.0px 0.0px 1.5em 0.0px ; width: 100.0% }
blockquote p { margin: 0.0em 0.0px 0.0px 0.0px ; border-left: solid 4.0px hsl(0.0, 0.0%, 86.27%) ; padding: 1.0em 0.0px 1.0em 24.0px  }
blockquote h4 { margin: 1.0em 0.0px 0.0px 0.0px ; text-align: right }
blockquote h4:nth-child(1) { display: inline-block; padding: 1.0em 24.0px 1.0em 0.0px ; border-right: solid 4.0px hsl(0.0, 0.0%, 86.27%) ; float: right; text-align: right }
blockquote h4:nth-child(2) { border-left: solid 4.0px hsl(0.0, 0.0%, 86.27%) ; padding: 1.0em 0.0px 1.0em 24.0px ; display: inline-block; float: left }
hr { background-color: hsl(0.0, 0.0%, 86.27%); height: 1.0px; border: solid 0.0px hsl(0.0, 0.0%, 86.27%)  }
h1, h2, h3, h4 { line-height: 140.0% }
h1 { font-size: 28.0px; margin: 0.0px 0.0px 1.0em 0.0px  }
h2 { font-size: 21.0px; margin: 1.6em 0.0px 0.7em 0.0px  }
h3 { font-size: 17.0px; margin: 1.8em 0.0px 0.7em 0.0px  }
h4 { font-size: 17.0px; margin: 2.0em 0.0px 0.7em 0.0px  }
h4 code { font-size: 21.0px }
ul { padding: 0.0px 0.0px 0.0px 24.0px  }
ol { padding: 0.0px 0.0px 0.0px 24.0px  }
a { color: hsl(240.69, 55.41%, 69.22%); text-decoration: none }
a:hover { color: hsl(158.02, 56.22%, 54.31%); text-decoration: none }
li code { height: 17.0px; line-height: 17.0px; padding: 0.0px 4.0px 0.0px 4.0px  }
p code { padding: 0.0px 4.0px 0.0px 4.0px  }
code { display: inline-block; border-radius: 2.0px 2.0px 2.0px 2.0px ; line-height: 1.6em; font-size: 14.0px; max-width: 720.0px; background-color: hsl(0.0, 0.0%, 96.08%) }
pre code { display: block; background-color: hsl(306.67, 9.89%, 17.84%); color: hsl(312.0, 6.17%, 84.12%); overflow: auto; padding: 12.0px 12.0px 12.0px 12.0px  }
p { margin: 0.0px 0.0px 1.0em 0.0px ; max-width: 720.0px }
.main { position: absolute; left: 248.0px; right: 0.0px; top: 0.0px; bottom: 0.0px; overflow: auto }
.main .inner { padding: 48.0px 48.0px 16.0px 60.0px  }
.main h1 { line-height: 100.0%; margin-top: 0.0px }
.main li { font-size: 15.0px; margin: 0.3em 0.0px 0.3em 0.0px ; list-style-type: none }
.main li:before { font-size: 11.0px; margin-right: 6.0px; vertical-align: top }
.main ol { counter-reset: item }
.main ol li:before { color: hsl(220.0, 6.47%, 47.25%); content: counter(item) ". "; counter-increment: item }
.main ul li:before { color: hsl(220.0, 6.47%, 87.25%); content: "â˜…" }
.homepage .main ul { font-size: 17.0px }
@media screen and (max-width: 720.0px) { .main { position: relative; right: 0.0px; top: 0.0px; left: 0.0px }
.main .inner { padding: 48.0px 36.0px 16.0px 36.0px  }
 }
</style><div class="guidepage"><style>.sidebar { background-color: hsl(220.0, 13.04%, 18.04%); position: absolute; left: 0.0px; top: 0.0px; bottom: 0.0px; width: 248.0px }
.sidebar h2 { letter-spacing: 1.0px; margin: 0.0px 0.0px 32.0px 0.0px ; padding-left: 15.0px; line-height: 100.0%; text-transform: uppercase }
.sidebar h2 a { color: hsl(0.0, 0.0%, 96.08%) }
.sidebar li a { border-left: solid 3.0px hsl(220.0, 13.04%, 18.04%) ; padding-left: 12.0px; color: hsl(0.0, 0.0%, 96.08%); font-weight: lighter }
.sidebar a:hover { color: hsl(157.99, 64.65%, 57.84%) }
.sidebar .selected { border-left: solid 3.0px hsl(157.99, 64.65%, 57.84%)  }
.sidebar .inner { margin-left: 24.0px; padding: 52.0px 16.0px 16.0px 16.0px  }
.sidebar ul { list-style-type: none; margin-top: 0.0px; padding-left: 0.0px }
.sidebar ul ul li a { padding-left: 24.0px }
@media screen and (max-width: 720.0px) { .sidebar { position: relative; top: 0.0px; width: 100.0% }
 }
</style><nav class="sidebar"><div class="inner"><h2><a href="/">Pux</a></h2><ul><li></li><li><a href="/">Introduction</a></li><li></li><li><a href="/docs/architecture">Architecture</a></li><li></li><li><a href="/docs/events">Events</a></li><li></li><li><a class="selected" href="/docs/markup">Markup</a></li><li></li><li><a href="/docs/rendering">Rendering</a></li><li></li><li><a href="/docs/components">Components</a></li><li></li><li><a href="/docs/forms">Forms</a></li><li></li><li><a href="/docs/routing">Routing</a></li><li></li><li><a href="/docs/css">CSS</a></li><li></li><li><a href="/docs/react-interop">React Interop</a></li></ul><ul><li></li><li><a href="https://pursuit.purescript.org/packages/purescript-pux">API Reference</a></li><li></li><li><a href="https://github.com/alexmingoia/purescript-pux/tree/master/examples/">Examples</a></li><li></li><li><a href="https://github.com/alexmingoia/pux-devtool">Devtool Extension</a></li></ul><ul><li></li><li><a href="https://github.com/alexmingoia/purescript-pux/">GitHub</a></li><li></li><li><a href="https://gitter.im/alexmingoia/purescript-pux">Chat (Gitter)</a></li></ul><ul><li></li><li><a href="/docs/learn-purescript">Learn PureScript</a></li></ul></div></nav><div class="main"><div class="inner"><h1 id="Markup">Markup</h1><p>Pux uses
<a href="https://pursuit.purescript.org/packages/purescript-smolder">purescript-smolder</a>'s
markup monad. <code>HTML ev</code> is an alias for <code>Markup (DOMEvent -&gt; ev)</code>, which is used
with <code>do</code> notation to describe a state's view:</p><pre><code>view :: State -&gt; HTML Event
view count =
  div do
    button #! onClick (const Increment) $ text &quot;Increment&quot;
    span $ text (show count)
    button #! onClick (const Decrement) $ text &quot;Decrement&quot;</code></pre><blockquote><p>Learn more about do notation and monad basics in
<a href="http://adit.io/posts/2013-04-17-functors,_applicatives,_and_monads_in_pictures.html#monads">Functors, Applicatives, and Monads in Pictures</a>.</p></blockquote><p>Smolder provides constructors for each element or attribute, like <code>div</code> or
<code>button</code>, or <code>className</code> and <code>href</code>. When applicable, constructors take an
argument for a child element or attribute value. Also provided are operators for
combining elements with attributes or event handlers.</p><h2 id="Elements">Elements</h2><p>Element constructors are provided by
<a href="https://pursuit.purescript.org/packages/purescript-smolder/7.0.0/docs/Text.Smolder.HTML"><code>Text.Smolder.HTML</code></a>,
with container elements taking an argument for children.</p><p>Children can be
<a href="https://pursuit.purescript.org/packages/purescript-smolder/7.0.0/docs/Text.Smolder.Markup#v:text"><code>text</code></a>:</p><pre><code>h1 $ text &quot;Hello, World&quot;</code></pre><p>Or another element:</p><pre><code>div $ p (text &quot;PureScript&quot;)</code></pre><p>Or multiple elements using do notation:</p><pre><code>div do
  h1 $ text &quot;Hello, World&quot;
  p $ text &quot;I'm HTML.&quot;</code></pre><p>Sometimes you want an empty container element. Because HTML is a monoid, you can
use
<a href="https://pursuit.purescript.org/packages/purescript-monoid/3.0.0/docs/Data.Monoid#v:mempty"><code>mempty</code></a>:</p><pre><code>div mempty</code></pre><h2 id="Attributes">Attributes</h2><p>The
<a href="https://pursuit.purescript.org/packages/purescript-smolder/7.0.0/docs/Text.Smolder.Markup#v:%28!%29"><code>!</code></a>
operator is used to add attributes to elements:</p><pre><code>a ! href &quot;purescript.org&quot; ! className &quot;yellow&quot; $ text &quot;purescript.org&quot;</code></pre><p>Optional attributes can be declared using the
<a href="https://pursuit.purescript.org/packages/purescript-smolder/7.0.0/docs/Text.Smolder.Markup#v:%28!?%29"><code>!?</code></a>
operator in combination with a boolean:</p><pre><code>button !? state.loading (className &quot;loading&quot;) $ text &quot;Save&quot;</code></pre><h2 id="Event_handlers">Event handlers</h2><p>The
<a href="https://pursuit.purescript.org/packages/purescript-smolder/7.0.0/docs/Text.Smolder.Markup#v:%28#!%29"><code>#!</code></a>
operator is used with constructors from
<a href="https://pursuit.purescript.org/packages/purescript-pux/9.0.0/docs/Pux.DOM.Events"><code>Pux.DOM.Events</code></a> to add event handlers to
elements:</p><pre><code>button #! onClick (const Increment) $ text &quot;Increment&quot;</code></pre><p>Pux provides constructors for creating event handlers for all the DOM events via
<a href="https://pursuit.purescript.org/packages/purescript-pux/9.0.0/docs/Pux.DOM.Events"><code>Pux.DOM.Events</code></a>.
These constructors take an argument of type <code>DOMEvent -&gt; ev</code> where <code>ev</code> is the
type of your application events. This is so that data in the raw DOM event can
be used in the application events. If the DOM event is not needed by the
application event, it can be ignored using the
<a href="https://pursuit.purescript.org/packages/purescript-prelude/3.0.0/docs/Data.Function#v:const"><code>const</code></a>
function as shown in the example above.</p><blockquote><p><code>DOMEvent</code> is an alias for
<a href="https://pursuit.purescript.org/packages/purescript-dom/4.3.1">purescript-dom</a>'s
<code>Event</code>, so you can name your application event type the same without a
name collision.</p></blockquote><h2 id="Pux_elements_and_attributes">Pux elements and attributes</h2><p>In addition to purescript-smolder, Pux provides its own element and attribute
constructors in <a href="https://pursuit.purescript.org/packages/purescript-pux/9.0.0/docs/Pux.DOM.HTML"><code>Pux.DOM.HTML</code></a> and
<a href="https://pursuit.purescript.org/packages/purescript-pux/9.0.0/docs/Pux.DOM.HTML.Attributes"><code>Pux.DOM.HTML.Attributes</code></a>:</p><ul><li>The <code>style</code> <a href="https://pursuit.purescript.org/packages/purescript-pux/9.0.0/docs/Pux.DOM.HTML#v:style">element</a> and
<a href="https://pursuit.purescript.org/packages/purescript-pux/9.0.0/docs/Pux.DOM.HTML.Attributes#v:style">attribute</a> take <code>CSS</code> from
purescript-css.</li><li><a href="https://pursuit.purescript.org/packages/purescript-pux/9.0.0/docs/Pux.DOM.HTML.Attributes#v:focus"><code>focus</code></a> declaratively controls
input focus. </li><li><a href="https://pursuit.purescript.org/packages/purescript-pux/9.0.0/docs/Pux.DOM.HTML.Attributes#v:key"><code>key</code></a> is for rendering optimization
(used by React and others).</li><li><a href="https://pursuit.purescript.org/packages/purescript-pux/9.0.0/docs/Pux.DOM.HTML.Attributes#v:data_"><code>data_</code></a> constructs properties
prefixed with &quot;data-&quot;.</li></ul><h2 id="HTML_from_lists">HTML from lists</h2><p>Often elements need to be generated from a
<a href="https://pursuit.purescript.org/packages/purescript-foldable-traversable/3.0.0/docs/Data.Foldable"><code>Foldable</code></a>,
whether a List, an Array, etc. Use
<a href="https://pursuit.purescript.org/packages/purescript-foldable-traversable/3.0.0/docs/Data.Foldable#v:for_"><code>for_</code></a>
from
<a href="https://pursuit.purescript.org/packages/purescript-foldable-traversable">purescript-foldable-traversable</a>:</p><pre><code>colors :: Array String
colors = [&quot;purple&quot;,&quot;red&quot;,&quot;green&quot;]

color :: String -&gt; HTML Event
color s = li $ text s

view :: HTML Event
view = ul $ for_ colors color</code></pre><h2 id="Memoization">Memoization</h2><p>Use Pux's <a href="https://pursuit.purescript.org/packages/purescript-pux/9.0.0/docs/Pux.DOM.HTML#v:memoize"><code>memoize</code></a>
where it's important to avoid unnecessary rendering:</p><pre><code>view :: State -&gt; HTML Event
view = memoize \state -&gt; div $ text state.message</code></pre><blockquote><p>It's important that <code>memoize</code> is only used at a top-level declaration and
not inside a view. This is because PureScript is eagerly evaluated like
JavaScript. If <code>memoize</code> is used inside a view it will recreate the memoized
function every time the view is called.</p></blockquote><blockquote><h4 id="Next_Rendering">Next: <a href="/docs/rendering">Rendering</a></h4><h4 id="Previous_Events">Previous: <a href="/docs/events">Events</a></h4></blockquote></div></div></div></div></div><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></body></html>